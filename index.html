<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Bo Wan: A simple finance chart demo ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Bo Wan: Fiancial Chart Demo</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/5ean/WPF-FinancialChart">View on GitHub</a>

          <h1 id="project_title">A Simple Financial Historical chart</h1>
          <h2 id="project_tagline">This is a simple demo to illustrate how to develop a google finance like chart in WPF</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/5ean/WPF-FinancialChart/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/5ean/WPF-FinancialChart/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>About this chart</h3>
        <p>Recently, several friends asked me about how to develop a linear chart for real time risk monitoring and historical risk data display. I decided to publish this demo just in case more of my friends need it. This demo uses <a href="http://wpftoolkit.codeplex.com/" class="user-mention">WPF Toolkit</a> which is an open source WPF extension library from Microsoft. I added DataVisualization source code as a project in this demo for better understanding the internal implementation. However, I did not change it. So if you want, you also can simply refer <a href="http://wpftoolkit.codeplex.com/" class="user-mention">WPF Toolkit</a> directly</p>

        <h3>Historical Chart</h3>
        <p>This demo is a historical linear chart. Later on, I will publish a real time chart and the real time chart performance analysis. Compared with original WPF Toolkit linear chart, I developed an adorner control to implement cursors on the lines, as well as labels beside the cursors. This demo also illustrates how to add crosshairs on the chart. Here is an example:</p>
        <hr />
          <img src="images/Capture1.JPG" alt="historical linear chart" width="900" height="500" style="margin-left:-50px; margin-right:-50px" />
        <hr />
        
        <h3>Adorner Control</h3>
        <p>An Adorner is a custom FrameworkElement that is bound to a UIElement. Adorners are rendered in an AdornerLayer, which is a rendering surface that is always on top of the adorned element or a collection of adorned elements. Rendering of an adorner is independent from rendering of the UIElement that the adorner is bound to. An adorner is typically positioned relative to the element to which it is bound, using the standard 2-D coordinate origin located at the upper left of the adorned element.</p>
        <p>Common applications for adorners include:</p>
          <ul>
              <li>Adding functional handles to a UIElement that enable a user to manipulate the element in some way (resize, rotate, reposition, etc.).</li>
              <li>Provide visual feedback to indicate various states, or in response to various events.</li>
              <li>Overlay visual decorations on a UIElement.</li>
              <li>Visually mask or override part or all of a UIElement.</li>
          </ul>  
         <p>Above info is from MSDN, for more detail about adorner control, please refer <a href="https://msdn.microsoft.com/en-us/library/ms743737%28v=vs.110%29.aspx#about_Adorners" class="user-mention">Adorner Overview</a> and <a href="https://msdn.microsoft.com/en-us/library/ms753340(v=vs.110).aspx" class="user-mention">How-to Topics</a></p>
         <p>In this demo, I created a customized adorner control to draw the cursor (circle) and label beside the cursor on the lines as following:</p>
         <pre><code>
&ltlocal:adornedcontrol x:name="adornedControl"
                      horizontalalignment="Center"
                      verticalalignment="Center"
                      horizontaladornerplacement="Outside"
                      verticaladornerplacement="Outside"&gt
    &ltlocal:adornedcontrol.isadornervisible&gt
        &ltmultibinding converter="{StaticResource VisibilityConverter}"&gt
            &ltbinding path="PointVisibility" /&gt
            &ltbinding elementname="Price" path="Visibility" /&gt
        &lt/multibinding&gt
    &lt/local:adornedcontrol.isadornervisible&gt
    &ltlocal:adornedcontrol.adornercontent&gt
        &ltcanvas x:name="adornerCanvas" horizontalalignment="Center" verticalalignment="Center" width="auto" height="20"&gt
        &lttextblock canvas.left="10" canvas.top="5" width="Auto" height="20" text="{Binding ClosePrice, StringFormat={}{0:C}}"&gt
            &lttextblock.background&gt
                &ltlineargradientbrush startpoint="0,0" endpoint="0,1"&gt
                    &ltgradientstop color="White" offset="0"&gt&lt/gradientstop&gt
                    &ltgradientstop color="Silver" offset="1" /&gt
            &lt/lineargradientbrush&gt
            &lt/textblock.background&gt
        &lt/textblock&gt
        &lt/canvas&gt
    &lt/local:adornedcontrol.adornercontent&gt
    &ltellipse visibility="{Binding PointVisibility}" style="{StaticResource EllipseStyle}" /&gt
&lt/local:adornedcontrol&gt
         </code></pre>
        <p>To review the implementation of adorner control, please download the source code.</p>
      </section>
    </div>
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Wpf-financialchart maintained by <a href="https://github.com/5ean">5ean</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
